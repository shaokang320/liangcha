{"version":3,"sources":["webpack:///C:/Users/86185/Desktop/凉茶/components/authorized.vue?55a4","webpack:///C:/Users/86185/Desktop/凉茶/components/authorized.vue?9b61","webpack:///C:/Users/86185/Desktop/凉茶/components/authorized.vue?151d","webpack:///C:/Users/86185/Desktop/凉茶/components/authorized.vue?a369","webpack:///C:/Users/86185/Desktop/凉茶/components/authorized.vue","webpack:///C:/Users/86185/Desktop/凉茶/components/authorized.vue?8939","webpack:///C:/Users/86185/Desktop/凉茶/components/authorized.vue?73d9"],"names":["components","mask","data","staticURL","$url","uploadURL","phoneState","dataInfo","flag1","flag2","created","vm","init","methods","authorization","uni","getSetting","success","res","authSetting","wx","getUserInfo","e","console","log","nickName","userInfo","avatarUrl","login","Promise","resolve","reject","code","then","memberInfo","member_mobile","detail","getPhoneNumber","encryptedData","iv","$store","commit","access_token"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyF;AAC3B;AACL;AACc;;;AAGvE;AACkI;AAClI,gBAAgB,+IAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,qFAAM;AACR,EAAE,8FAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAA0uB,CAAgB,qvBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiB9vB,gE;;;AAGe;AACdA,YAAU,EAAE;AACXC,QAAI,EAAJA,IADW,EADE;;AAIdC,MAJc,kBAIP;AACN,WAAO;AACNC,eAAS,EAAE,KAAKC,IAAL,CAAUD,SADf;AAENE,eAAS,EAAE,KAAKD,IAAL,CAAUC,SAFf;AAGNC,gBAAU,EAAE,KAHN,EAGa;AACnBC,cAAQ,EAAE,EAJJ,EAIQ;AACdC,WAAK,EAAE,IALD,EAKO;AACbC,WAAK,EAAE,IAND,CAMM;AANN,KAAP;AAQA,GAba;AAcdC,SAdc,qBAcJ;AACT,QAAMC,EAAE,GAAG,IAAX;AACAA,MAAE,CAACC,IAAH;AACA,GAjBa;AAkBdC,SAAO,EAAE;AACFD,QADE;AAEDD,kBAFC,GAEI,IAFJ;AAGeA,oBAAE,CAACG,aAAH,EAHf,SAGPH,EAAE,CAACL,UAHI;AAIP;AACAS,mBAAG,CAACC,UAAJ,CAAe;AACdC,yBAAO,EAAE,iBAAAC,GAAG,EAAI;AACf,wBAAIA,GAAG,CAACC,WAAJ,CAAgB,gBAAhB,CAAJ,EAAuC;AACtCC,wBAAE,CAACC,WAAH,CAAe;AACdJ,+BAAO,EAAE,iBAAAK,CAAC,EAAI;AACbC,iCAAO,CAACC,GAAR,CAAYF,CAAZ;AACAX,4BAAE,CAACJ,QAAH,CAAYkB,QAAZ,GAAuBH,CAAC,CAACI,QAAF,CAAWD,QAAlC;AACAd,4BAAE,CAACJ,QAAH,CAAYoB,SAAZ,GAAwBL,CAAC,CAACI,QAAF,CAAWC,SAAnC;AACA,8BAAIhB,EAAE,CAACL,UAAP,EAAmB;AAClBK,8BAAE,CAACF,KAAH,GAAW,IAAX;AACAE,8BAAE,CAACiB,KAAH;AACA;AACD,yBATa,EAAf;;AAWA,qBAZD,MAYO;AACNjB,wBAAE,CAACH,KAAH,GAAW,KAAX;AACA,0BAAI,CAACG,EAAE,CAACL,UAAR,EAAoB;AACnBK,0BAAE,CAACF,KAAH,GAAW,KAAX;AACA;AACD;AACD,mBApBa,EAAf,EALO;;;AA4BR;AACAK,iBA7BQ,2BA6BQ;AACf,aAAO,IAAIe,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACvC,YAAMpB,EAAE,GAAG,KAAX;AACAI,WAAG,CAACa,KAAJ,CAAU;AACTX,iBAAO,EAAE,iBAAAC,GAAG,EAAI;AACf,uCAAe;AACdc,kBAAI,EAAEd,GAAG,CAACc,IADI,EAAf;AAEGC,gBAFH,CAEQ,UAACf,GAAD,EAAS;AAChB,kBAAIA,GAAG,CAACgB,UAAJ,CAAeC,aAAnB,EAAkC;AACjCL,uBAAO,CAAC,IAAD,CAAP;AACA,eAFD,MAEO;AACNA,uBAAO,CAAC,KAAD,CAAP;AACA;AACD,aARD;AASA,WAXQ,EAAV;;AAaA,OAfM,CAAP;AAgBA,KA9CO;AA+CR;AACMT,eAhDE,8GAgDUC,CAhDV;AAiDDX,kBAjDC,GAiDI,IAjDJ;AAkDPY,uBAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,oBAAIA,CAAC,CAACc,MAAF,CAASV,QAAb,EAAuB;AACtBf,oBAAE,CAACJ,QAAH,CAAYkB,QAAZ,GAAuBH,CAAC,CAACc,MAAF,CAASV,QAAT,CAAkBD,QAAzC;AACAd,oBAAE,CAACJ,QAAH,CAAYoB,SAAZ,GAAwBL,CAAC,CAACc,MAAF,CAASV,QAAT,CAAkBC,SAA1C;AACAhB,oBAAE,CAACH,KAAH,GAAW,IAAX;AACA;AACD,oBAAIG,EAAE,CAACL,UAAP,EAAmB;AAClBK,oBAAE,CAACiB,KAAH;AACA,iBAFD,MAEO;AACNjB,oBAAE,CAACF,KAAH,GAAW,KAAX;AACA,iBA5DM;;AA8DR;AACA4B,kBA/DQ,0BA+DOf,CA/DP,EA+DU;AACjB,UAAMX,EAAE,GAAG,IAAX;AACA,UAAIW,CAAC,CAACc,MAAF,CAASE,aAAb,EAA4B;AAC3B3B,UAAE,CAACF,KAAH,GAAW,IAAX;AACAE,UAAE,CAACJ,QAAH,CAAY+B,aAAZ,GAA4BhB,CAAC,CAACc,MAAF,CAASE,aAArC;AACA3B,UAAE,CAACJ,QAAH,CAAYgC,EAAZ,GAAiBjB,CAAC,CAACc,MAAF,CAASG,EAA1B;AACA5B,UAAE,CAACiB,KAAH;AACA;AACD,KAvEO;AAwER;AACAA,SAzEQ,mBAyEA;AACP,UAAMjB,EAAE,GAAG,IAAX;AACAI,SAAG,CAACa,KAAJ,CAAU;AACTX,eAAO,EAAE,iBAAAC,GAAG,EAAI;AACf;AACCc,gBAAI,EAAEd,GAAG,CAACc,IADX;AAEIrB,YAAE,CAACJ,QAFP;AAGG0B,cAHH,CAGQ,UAACf,GAAD,EAAS;AAChBP,cAAE,CAAC6B,MAAH,CAAUC,MAAV,CAAiB,UAAjB,EAA6BvB,GAAG,CAACgB,UAAjC;AACAvB,cAAE,CAAC6B,MAAH,CAAUC,MAAV,CAAiB,WAAjB,EAA8BvB,GAAG,CAACgB,UAAJ,CAAeQ,YAA7C;AACA/B,cAAE,CAAC6B,MAAH,CAAUC,MAAV,CAAiB,eAAjB,EAAkC,IAAlC;AACA9B,cAAE,CAACH,KAAH,GAAW,IAAX;AACAG,cAAE,CAACF,KAAH,GAAW,IAAX;AACA,WATD;AAUA,SAZQ,EAAV;;AAcA,KAzFO,EAlBK,E;;;;;;;;;;;;;ACpBf;AAAA;AAAA;AAAA;AAAytC,CAAgB,qrCAAG,EAAC,C;;;;;;;;;;;ACA7uC,uC","file":"components/authorized.js","sourcesContent":["import { render, staticRenderFns } from \"./authorized.vue?vue&type=template&id=16eb1ff6&\"\nimport script from \"./authorized.vue?vue&type=script&lang=js&\"\nexport * from \"./authorized.vue?vue&type=script&lang=js&\"\nimport style0 from \"./authorized.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('16eb1ff6', component.options)\n    } else {\n      api.reload('16eb1ff6', component.options)\n    }\n    module.hot.accept(\"./authorized.vue?vue&type=template&id=16eb1ff6&\", function () {\n      api.rerender('16eb1ff6', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"C:/Users/86185/Desktop/凉茶/components/authorized.vue\"\nexport default component.exports","export * from \"-!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-hbuilderx\\\\packages\\\\webpack-uni-nvue-loader\\\\lib\\\\templateLoader.js??vue-loader-options!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./authorized.vue?vue&type=template&id=16eb1ff6&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./authorized.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./authorized.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport mask from '@/components/mask.vue'\nimport {\n\tapiWeiXinLogin\n} from \"@/common/api/login\"\nexport default {\n\tcomponents: {\n\t\tmask\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tstaticURL: this.$url.staticURL,\n\t\t\tuploadURL: this.$url.uploadURL,\n\t\t\tphoneState: false, //数据库手机号是否存在\n\t\t\tdataInfo: {}, //用于提交的用户信息\n\t\t\tflag1: true, //用户信息授权状态\n\t\t\tflag2: true //用户手机号授权状态\n\t\t};\n\t},\n\tcreated() {\n\t\tconst vm = this;\n\t\tvm.init();\n\t},\n\tmethods: {\n\t\tasync init() {\n\t\t\tconst vm = this;\n\t\t\tvm.phoneState = await vm.authorization();\n\t\t\t// 判断获取用户头像昵称是否授权\n\t\t\tuni.getSetting({\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tif (res.authSetting['scope.userInfo']) {\n\t\t\t\t\t\twx.getUserInfo({\n\t\t\t\t\t\t\tsuccess: e => {\n\t\t\t\t\t\t\t\tconsole.log(e)\n\t\t\t\t\t\t\t\tvm.dataInfo.nickName = e.userInfo.nickName;\n\t\t\t\t\t\t\t\tvm.dataInfo.avatarUrl = e.userInfo.avatarUrl;\n\t\t\t\t\t\t\t\tif (vm.phoneState) {\n\t\t\t\t\t\t\t\t\tvm.flag2 = true;\n\t\t\t\t\t\t\t\t\tvm.login();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvm.flag1 = false;\n\t\t\t\t\t\tif (!vm.phoneState) {\n\t\t\t\t\t\t\tvm.flag2 = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 判断用户是否有手机号信息\n\t\tauthorization() {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tconst vm = this;\n\t\t\t\tuni.login({\n\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\tapiWeiXinLogin({\n\t\t\t\t\t\t\tcode: res.code\n\t\t\t\t\t\t}).then((res) => {\n\t\t\t\t\t\t\tif (res.memberInfo.member_mobile) {\n\t\t\t\t\t\t\t\tresolve(true);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tresolve(false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\t// 获取用户信息\n\t\tasync getUserInfo(e) {\n\t\t\tconst vm = this;\n\t\t\tconsole.log(e)\n\t\t\tif (e.detail.userInfo) {\n\t\t\t\tvm.dataInfo.nickName = e.detail.userInfo.nickName\n\t\t\t\tvm.dataInfo.avatarUrl = e.detail.userInfo.avatarUrl\n\t\t\t\tvm.flag1 = true;\n\t\t\t}\n\t\t\tif (vm.phoneState) {\n\t\t\t\tvm.login();\n\t\t\t} else {\n\t\t\t\tvm.flag2 = false;\n\t\t\t}\n\t\t},\n\t\t// 获取用户手机号\n\t\tgetPhoneNumber(e) {\n\t\t\tconst vm = this;\n\t\t\tif (e.detail.encryptedData) {\n\t\t\t\tvm.flag2 = true;\n\t\t\t\tvm.dataInfo.encryptedData = e.detail.encryptedData;\n\t\t\t\tvm.dataInfo.iv = e.detail.iv;\n\t\t\t\tvm.login();\n\t\t\t}\n\t\t},\n\t\t// 登录\n\t\tlogin() {\n\t\t\tconst vm = this;\n\t\t\tuni.login({\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tapiWeiXinLogin({\n\t\t\t\t\t\tcode: res.code,\n\t\t\t\t\t\t...vm.dataInfo\n\t\t\t\t\t}).then((res) => {\n\t\t\t\t\t\tvm.$store.commit('userInfo', res.memberInfo);\n\t\t\t\t\t\tvm.$store.commit('SET_TOKEN', res.memberInfo.access_token);\n\t\t\t\t\t\tvm.$store.commit('SET_AUTHORIZE', true);\n\t\t\t\t\t\tvm.flag1 = true;\n\t\t\t\t\t\tvm.flag2 = true;\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n}\n","import mod from \"-!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./authorized.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\down\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./authorized.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}